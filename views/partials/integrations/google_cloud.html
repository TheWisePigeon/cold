<div class="flex flex-col gap-2" >
  <div class="flex gap-2 mb-2">
    <svg class="w-6 h-6 fill-blue-500" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <title>Google Cloud</title>
      <path
        d="M12.19 2.38a9.344 9.344 0 0 0-9.234 6.893c.053-.02-.055.013 0 0-3.875 2.551-3.922 8.11-.247 10.941l.006-.007-.007.03a6.717 6.717 0 0 0 4.077 1.356h5.173l.03.03h5.192c6.687.053 9.376-8.605 3.835-12.35a9.365 9.365 0 0 0-2.821-4.552l-.043.043.006-.05A9.344 9.344 0 0 0 12.19 2.38zm-.358 4.146c1.244-.04 2.518.368 3.486 1.15a5.186 5.186 0 0 1 1.862 4.078v.518c3.53-.07 3.53 5.262 0 5.193h-5.193l-.008.009v-.04H6.785a2.59 2.59 0 0 1-1.067-.23h.001a2.597 2.597 0 1 1 3.437-3.437l3.013-3.012A6.747 6.747 0 0 0 8.11 8.24c.018-.01.04-.026.054-.023a5.186 5.186 0 0 1 3.67-1.69z" />
    </svg>
    <h1 class="text-md font-semibold">Google Cloud Storage</h1>
  </div>
  <form class="flex flex-col gap-2 " hx-target="#gcp_result" hx-post="/api/settings/gcp" enctype="multipart/form-data">
    <div class="border-b space-y-2 border-gray-900/10 pb-12">
      <div>
        <label for="price" class="block text-sm font-medium leading-6 text-gray-900">Project ID</label>
        <div class="relative mt-2 rounded-md shadow-sm">
          <input required value="{{.GCP_Config.ProjectId}}" autocomplete="off" type="text" name="gcp_project_id"
            id="price"
            class="block w-full rounded-md border-0 p-2 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>
      <div>
        <label for="bucket" class="block text-sm font-medium leading-6 text-gray-900">Bucket name</label>
        <div class="relative mt-2 rounded-md shadow-sm">
          <input required value="{{.GCP_Config.BucketName}}" autocomplete="off" type="text" name="gcp_bucket_name"
            id="bucket"
            class="block w-full rounded-md border-0 p-2 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
      </div>
      <div>
        <label class="block text-sm font-medium leading-6 text-gray-900" for="file_input">Service account key ({{if .GCP_Config.LastUpdatedServiceAccount}}Last updated {{.GCP_Config.LastUpdatedServiceAccount}} {{end}})  </label>
        {{ if .EmptyConfig }}
        <input
          class="bg-white mt-2 block w-full rounded-md border-0 p-2 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
          id="file_input" name="gcp_service_key" type="file">
        {{else}}
        <div id="gcp_key_upload" class="col-span-full">
          <input type="text" hidden name="gcp_service_key_uploaded" value="false">
          <div class="mt-2 flex items-center gap-x-3">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z" />
            </svg>
            <button type="button" hx-trigger="click" hx-get="/api/gcp-key-upload" hx-target="#gcp_key_upload"
              class="rounded-md bg-white px-2.5 py-1.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50"
            >
              <h1>Upload new</h1>
            </button>
          </div>
        </div>
        {{end}}
      </div>
      <div>
        <button class="w-full text-center mt-2 p-2 bg-blue-500 hover:bg-blue-400 text-white rounded-md" type="submit">
          <h1>Save</h1>
        </button>
        <div id="gcp_result"></div>
      </div>
    </div>
  </form>
</div>
